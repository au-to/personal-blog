---
title: 零基础小白的 K8s 速成指南：核心概念、架构与实践总结
date: 2025/10/06
tags:
 - K8s
---

Kubernetes (k8s) 是当今云原生领域的基石。对于初学者来说，其庞大的概念体系可能让人望而却步。本文是我用 Gemini 的学习模式学习后总结的内容：涵盖 K8s 最核心的原理、架构和实践知识点，目标是提供一份清晰的**“K8s 入门速查表”**。

## 第一部分：核心哲学与原则

理解 K8s 的精髓，首先要把握它的核心工作方式。

| 概念 | 作用与价值 |
| :--- | :--- |
| **声明式 (Declarative)** | K8s 的核心哲学：用户**只描述理想状态**（例如：运行 3 个 NGINX Pod），K8s 负责实现和维持。 |
| **自愈 (Self-Healing)** | K8s 的核心能力。通过 **调和循环** 不断检查**当前状态**与**理想状态**的差异，并自动采取行动纠正（例如 Pod 崩溃后自动重启）。 |
| **Namespace (命名空间)** | 对资源的**逻辑隔离**单元。用于在单个集群中划分环境（如 Dev/Prod）和管理权限。 |
| **`kubectl apply -f`** | **声明式管理命令。** 安全地创建和更新资源，具备**幂等性**（只打补丁）。 |

---

## 第二部分：集群架构与组件

K8s 集群由两大部分组成：负责决策的**控制平面**（Control Plane）和负责执行的**工作节点**（Worker Node）。

### 控制平面 (Control Plane) - 集群的大脑

| 组件 | 核心职责 |
| :--- | :--- |
| **API Server** | **集群的网关。** 接收所有 `kubectl` 命令，进行认证、授权和状态读写。 |
| **etcd** | **集群的记忆库。** 存储所有资源的**理想状态**和集群配置（唯一真相来源）。 |
| **Scheduler (调度器)** | **集群决策者。** 挑选最合适的 **工作节点** 来运行新的 Pod。 |
| **Controller Manager** | **集群执行者。** 运行各种控制器（如 ReplicaSet 控制器），确保集群状态持续符合声明。 |

### 工作节点 (Worker Node) - 劳动力

| 组件 | 核心职责 |
| :--- | :--- |
| **Kubelet** | **节点代理人。** 运行在每个节点上，接收 API Server 的指令，并管理该节点上的 Pod 生命周期。 |
| **Container Runtime** | **容器工人。** 负责拉取镜像和启动容器（例如 `containerd`）。 |

---

## 第三部分：工作负载与网络抽象

这些是 K8s 集群中用于定义和访问应用的核心对象。

| 对象 (Kind) | 职责 | 进阶特性与意义 |
| :--- | :--- | :--- |
| **Pod** | K8s 中可部署的**最小单元**。包含一个或多个紧密关联的容器。 | Pod IP 是短暂的，不能直接访问。 |
| **Deployment** | 负责**应用的版本管理**。创建和管理 ReplicaSet，实现**滚动更新**。 | 通过 **`maxSurge`** 和 **`maxUnavailable`** 参数控制更新安全。 |
| **Service (服务)** | 为一组 Pods 提供一个**稳定不变的 IP 地址**。 | 提供**负载均衡**能力，解决 Pod IP 不稳定的问题。 |
| **Ingress** | **外部流量入口。** 管理从互联网到 Service 的流量。 | 实现 **基于域名和 URL 路径** 的高级路由。 |
| **Liveness Probe** | **存活探针。** 检查应用是否**存活**。失败则 K8s **重启** Pod。 | 决定 Pod 的**生死**。 |
| **Readiness Probe** | **就绪探针。** 检查应用是否**可以处理流量**。失败则 **Service 移除**该 Pod。 | 决定 Pod 的**流量接收权**。 |

---

## 第四部分：配置与持久化存储

| 资源对象 | 解决问题 | 核心关键点 |
| :--- | :--- | :--- |
| **ConfigMap** | **非敏感配置**的存储与注入。 | 明文存储，作为**环境变量**或**挂载文件**注入。 |
| **Secret** | **敏感信息（密钥、密码）**的安全存储与注入。 | Base64 编码后加密存储，作为**挂载文件**注入可实现**实时更新**。 |
| **PV (持久卷)** | **集群的物理存储资源。** | 由管理员预配置，独立于 Pod 生命周期。 |
| **PVC (持久卷声明)** | **应用的存储申请。** | **解耦** 应用开发者与底层存储细节。 |

---

## 实践利器：常用工具

| 工具/命令 | 作用 | 核心优势 |
| :--- | :--- | :--- |
| **Minikube** | 本地 K8s 环境。用于在个人电脑上快速搭建单节点 K8s 集群。 | 是学习 K8s 架构和组件的最佳沙箱。 |
| **kubectl** | K8s 命令行客户端。 | 是你与 K8s 集群进行交互的唯一命令行工具。 |