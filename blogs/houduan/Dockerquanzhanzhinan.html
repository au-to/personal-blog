<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>Docker 全栈指南：从概念到多容器部署的完整实践 | Ryan的个人网站</title><meta name="description" content="欢迎访问Ryan的个人网站，这里分享最新的软件开发技巧、编程项目和技术文章，帮助您提升开发技能。关注我们，获取实用的实战项目、开发教程及更多技术资源">
    <link rel="preload" href="/assets/style-CSlcUTs1.css" as="style"><link rel="stylesheet" href="/assets/style-CSlcUTs1.css">
    <link rel="modulepreload" href="/assets/app-_qvWuZqY.js"><link rel="modulepreload" href="/assets/Dockerquanzhanzhinan.html-BiGVktZw.js">
    <link rel="prefetch" href="/assets/timeline.html-BUPdRHUM.js" as="script"><link rel="prefetch" href="/assets/posts.html-DEa3dGz1.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-C9kT8HLo.js" as="script"><link rel="prefetch" href="/assets/1.html-CTC-mhaH.js" as="script"><link rel="prefetch" href="/assets/1.html-C_KnX8nw.js" as="script"><link rel="prefetch" href="/assets/1.html-DwpaD1_Q.js" as="script"><link rel="prefetch" href="/assets/1.html-RoFu0Vm7.js" as="script"><link rel="prefetch" href="/assets/1.html-Yuklavsk.js" as="script"><link rel="prefetch" href="/assets/1.html-BP0QGSao.js" as="script"><link rel="prefetch" href="/assets/1.html-CklZCwNz.js" as="script"><link rel="prefetch" href="/assets/1.html-DBbhssOb.js" as="script"><link rel="prefetch" href="/assets/1.html-BmOLT_F7.js" as="script"><link rel="prefetch" href="/assets/1.html-BY74pGnB.js" as="script"><link rel="prefetch" href="/assets/1.html-MxPdgydf.js" as="script"><link rel="prefetch" href="/assets/1.html-BdciQyu1.js" as="script"><link rel="prefetch" href="/assets/1.html-ClMjgVGJ.js" as="script"><link rel="prefetch" href="/assets/1.html-DOfvvg1j.js" as="script"><link rel="prefetch" href="/assets/1.html-CjfzmcA4.js" as="script"><link rel="prefetch" href="/assets/1.html-KL3MOKhF.js" as="script"><link rel="prefetch" href="/assets/1.html-B4ikgD-0.js" as="script"><link rel="prefetch" href="/assets/1.html-D-89SvsN.js" as="script"><link rel="prefetch" href="/assets/1.html-Dr0swzju.js" as="script"><link rel="prefetch" href="/assets/1.html-BhuAciGs.js" as="script"><link rel="prefetch" href="/assets/1.html-CNwvCeLu.js" as="script"><link rel="prefetch" href="/assets/1.html-Chor0jZE.js" as="script"><link rel="prefetch" href="/assets/1.html-ByWQFSUu.js" as="script"><link rel="prefetch" href="/assets/1.html-Bf0mSYb3.js" as="script"><link rel="prefetch" href="/assets/1.html-BbqlECQn.js" as="script"><link rel="prefetch" href="/assets/1.html-OX_sofsI.js" as="script"><link rel="prefetch" href="/assets/1.html-OGgGxEcG.js" as="script"><link rel="prefetch" href="/assets/1.html-BzbohLqh.js" as="script"><link rel="prefetch" href="/assets/1.html-1Wal-d1-.js" as="script"><link rel="prefetch" href="/assets/1.html-Cbmhnafm.js" as="script"><link rel="prefetch" href="/assets/1.html-BrUN-Rqk.js" as="script"><link rel="prefetch" href="/assets/1.html-Cmesf5so.js" as="script"><link rel="prefetch" href="/assets/1.html-BMC2z3_n.js" as="script"><link rel="prefetch" href="/assets/2.html-Bprrpk1I.js" as="script"><link rel="prefetch" href="/assets/3.html-DVqIktWL.js" as="script"><link rel="prefetch" href="/assets/index.html-CztyKiEM.js" as="script"><link rel="prefetch" href="/assets/AI Agent、MCPheFunction Callingyuanliqianxi.html-CZOYm4di.js" as="script"><link rel="prefetch" href="/assets/PromiseyuAsyncheAwaitshixianyuanlixiangjie.html-qnj9dO_Y.js" as="script"><link rel="prefetch" href="/assets/jsmokuaihuajizhidefazhan.html-CSUDU0Kc.js" as="script"><link rel="prefetch" href="/assets/keep-aliveyuanlijiexi.html-Bj8W4bRH.js" as="script"><link rel="prefetch" href="/assets/next.jsshangshouzhinan.html-adLSeuAy.js" as="script"><link rel="prefetch" href="/assets/reactjichuzhishizongjie.html-CAyH-Alu.js" as="script"><link rel="prefetch" href="/assets/three.jsrumenzhinan.html-VXik-YCF.js" as="script"><link rel="prefetch" href="/assets/shenrulijie CSS zhongde BFC he IFC：bujudehexinjizhi.html-C8s1XLRb.js" as="script"><link rel="prefetch" href="/assets/shenrulijiejsyibubiancheng，congyuanlidaoshijian.html--wZxmOoP.js" as="script"><link rel="prefetch" href="/assets/shenrulijiejsbibao.html-CqVJ_wxY.js" as="script"><link rel="prefetch" href="/assets/xunidomhediffsuanfaxiangjie.html-Tjnt7s_g.js" as="script"><link rel="prefetch" href="/assets/Dockerrumen.html-BBG6BTzl.js" as="script"><link rel="prefetch" href="/assets/k8srumen.html-DVYtEW1K.js" as="script"><link rel="prefetch" href="/assets/pythonjichuyufazongjie.html-BiMN1EmG.js" as="script"><link rel="prefetch" href="/assets/bendidajianpythonkaifahuanjing.html-C4Ab6J0B.js" as="script"><link rel="prefetch" href="/assets/webpackheviteyuanliqianxi.html-BmJDZzni.js" as="script"><link rel="prefetch" href="/assets/ruhefengzhuangyigezhichihuancundeqingqiufangfa.html-CKzu6UsP.js" as="script"><link rel="prefetch" href="/assets/tishengqianduankaifaxiaolvdeshijian.html-BqJWY_Hj.js" as="script"><link rel="prefetch" href="/assets/denglutaixuqian.html-C3SG3auK.js" as="script"><link rel="prefetch" href="/assets/cursorshiyongxinde.html-BV3cg_iX.js" as="script"><link rel="prefetch" href="/assets/shenruqianchuhuisusuanfa.html-BhbhFC5I.js" as="script"><link rel="prefetch" href="/assets/kuayudeyuanyinhejiejuefangan.html-CdpscKd9.js" as="script"><link rel="prefetch" href="/assets/fupeng2024nianHSBCyanjiangguandianshuli.html-Co76LafP.js" as="script"><link rel="prefetch" href="/assets/2024nianzhongzongjie.html-B8l9aJNS.js" as="script"><link rel="prefetch" href="/assets/2025nianzhongzongjie.html-DPSXzaN1.js" as="script"><link rel="prefetch" href="/assets/yirujiwang.html-D79tPN3-.js" as="script"><link rel="prefetch" href="/assets/qianduanchengxuyuanzhiyesikao.html-DemP9m0N.js" as="script"><link rel="prefetch" href="/assets/myself.html-56w-7P3E.js" as="script"><link rel="prefetch" href="/assets/404.html-B-Z0EDFR.js" as="script"><link rel="prefetch" href="/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/assets/giscus-aTimukGI-DWEKOTfS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/logo.png" alt="Ryan的个人网站"><a href="/" class="site-name can-hide">Ryan的个人网站</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/" class="link" aria-label="首页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->首页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/categories/gongjulian/1.html" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/tags/gongjulian/1.html" class="link" aria-label="标签"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->标签<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/timeline.html" class="link" aria-label="归档"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->归档<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="文档"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->文档<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="文档"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->文档<!--]--></span></span></span><span class="right arrow"></span></button><ul class="dropdown-link__container" style="display:none;"><!--[--><li class="dropdown-link__item"><a href="/docs/introduce/myself" class="link" aria-label="关于我"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->关于我<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a class="link" href="https://github.com/au-to" target="_blank" rel="noopener noreferrer" aria-label="github"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->github<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">Docker 全栈指南：从概念到多容器部署的完整实践</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Ryan<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2025/09/07<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/categories/houduan/1.html" class="">后端</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/tags/Docker/1.html" class="">Docker</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h2 id="一、docker-的基础-镜像与容器" tabindex="-1"><a class="header-anchor" href="#一、docker-的基础-镜像与容器"><span>一、Docker 的基础：镜像与容器</span></a></h2><p>理解 Docker 的第一步，是区分它的两个核心组件。</p><h3 id="_1-镜像-image-vs-容器-container" tabindex="-1"><a class="header-anchor" href="#_1-镜像-image-vs-容器-container"><span>1. 镜像（Image） vs. 容器（Container）</span></a></h3><table><thead><tr><th style="text-align:left;">概念</th><th style="text-align:left;">类比</th><th style="text-align:left;">关键特性</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>镜像 (Image)</strong></td><td style="text-align:left;">烘焙蛋糕的<strong>食谱</strong>或<strong>蓝图</strong>。</td><td style="text-align:left;">只读、分层存储，包含应用运行所需的一切。</td></tr><tr><td style="text-align:left;"><strong>容器 (Container)</strong></td><td style="text-align:left;">烘焙好的<strong>蛋糕实例</strong>。</td><td style="text-align:left;">镜像的运行实例，拥有一个可写层和独立的进程。</td></tr></tbody></table><h3 id="_2-镜像分层与数据持久化" tabindex="-1"><a class="header-anchor" href="#_2-镜像分层与数据持久化"><span>2. 镜像分层与数据持久化</span></a></h3><ul><li><strong>分层存储 (Layering)</strong>：镜像由多个只读层堆叠而成，这使得镜像可以高效地共享和复用，并节省磁盘空间。</li><li><strong>容器的可写层</strong>：容器运行时会创建一个可写层，所有运行时的数据变更都发生在这里。<strong>注意：</strong> 当容器被删除（<code>docker rm</code>）时，可写层的数据会<strong>彻底丢失</strong>（即数据是<strong>临时性</strong>的）。</li><li><strong>数据卷 (Volumes)</strong>：Docker 解决数据持久化的方案。它将数据存储在宿主机的<strong>独立区域</strong>，数据卷的生命周期与容器<strong>分离</strong>，即使容器被删除，数据依然保留。</li></ul><hr><h2 id="二、命令行操作-docker-的三板斧" tabindex="-1"><a class="header-anchor" href="#二、命令行操作-docker-的三板斧"><span>二、命令行操作：Docker 的三板斧</span></a></h2><p>以下是日常使用 Docker 必须掌握的命令和技巧。</p><table><thead><tr><th style="text-align:left;">类别</th><th style="text-align:left;">命令</th><th style="text-align:left;">描述</th><th style="text-align:left;">实用参数</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>运行</strong></td><td style="text-align:left;"><code>docker run</code></td><td style="text-align:left;">运行镜像并创建容器。</td><td style="text-align:left;"><strong><code>-d</code></strong>：后台运行（Detached Mode）； <strong><code>-p Host:Container</code></strong>：端口映射。</td></tr><tr><td style="text-align:left;"><strong>查看</strong></td><td style="text-align:left;"><code>docker ps</code></td><td style="text-align:left;">查看容器状态。</td><td style="text-align:left;"><strong><code>-a</code></strong>：查看所有容器（包括已退出）；<strong><code>--name</code></strong>：为容器命名。</td></tr><tr><td style="text-align:left;"><strong>日志</strong></td><td style="text-align:left;"><code>docker logs</code></td><td style="text-align:left;">查看容器的输出日志。</td><td style="text-align:left;"><strong><code>-f</code></strong>：实时跟踪日志（Follow）。</td></tr><tr><td style="text-align:left;"><strong>清理</strong></td><td style="text-align:left;"><code>docker stop</code></td><td style="text-align:left;">平稳地停止正在运行的容器。</td><td style="text-align:left;"><strong><code>docker stop [ID]</code></strong></td></tr><tr><td style="text-align:left;"><strong>清理</strong></td><td style="text-align:left;"><code>docker rm</code></td><td style="text-align:left;">删除已停止的容器。</td><td style="text-align:left;"><strong><code>docker rm [ID]</code></strong></td></tr><tr><td style="text-align:left;"><strong>清理</strong></td><td style="text-align:left;"><code>docker rmi</code></td><td style="text-align:left;">删除本地镜像。</td><td style="text-align:left;"><strong><code>docker rmi [ImageName]</code></strong></td></tr><tr><td style="text-align:left;"><strong>终极清理</strong></td><td style="text-align:left;"><strong><code>docker system prune</code></strong></td><td style="text-align:left;"><strong>一键清理</strong>所有已停止容器、未使用的网络和悬挂镜像。</td><td style="text-align:left;"><strong><code>-a --volumes</code></strong>：同时清理未使用的 Volumes（谨慎使用）。</td></tr></tbody></table><hr><h2 id="三、定制化-制作你的应用镜像-dockerfile" tabindex="-1"><a class="header-anchor" href="#三、定制化-制作你的应用镜像-dockerfile"><span>三、定制化：制作你的应用镜像 (Dockerfile)</span></a></h2><p>如果想构建自己的应用环境，就需要编写一个 <strong><code>Dockerfile</code></strong>。</p><table><thead><tr><th style="text-align:left;">指令</th><th style="text-align:left;">作用描述</th><th style="text-align:left;">最佳实践</th></tr></thead><tbody><tr><td style="text-align:left;"><strong><code>FROM</code></strong></td><td style="text-align:left;">指定构建所需的基础镜像（如 <code>ubuntu:22.04</code>）。</td><td style="text-align:left;">始终放在第一行。</td></tr><tr><td style="text-align:left;"><strong><code>RUN</code></strong></td><td style="text-align:left;">在镜像<strong>构建时</strong>执行命令（如安装依赖）。</td><td style="text-align:left;">将多个命令用 <code>&amp;&amp;</code> 连接成一个 <code>RUN</code>，以<strong>最小化层数</strong>，并<strong>清理缓存</strong>。</td></tr><tr><td style="text-align:left;"><strong><code>COPY</code></strong></td><td style="text-align:left;">将宿主机文件/代码复制到镜像指定路径。</td><td style="text-align:left;"><code>COPY [本地源路径] [镜像目标路径]</code></td></tr><tr><td style="text-align:left;"><strong><code>CMD</code></strong></td><td style="text-align:left;">定义容器<strong>启动时</strong>执行的默认命令。</td><td style="text-align:left;">必须让主进程保持在 <strong>前台 (FOREGROUND)</strong> 运行，否则容器会立即退出。</td></tr></tbody></table><p><strong>构建命令：</strong> <code>docker build -t [你的用户名]/[名称]:[标签] .</code></p><hr><h2 id="四、规模化-网络与容器编排" tabindex="-1"><a class="header-anchor" href="#四、规模化-网络与容器编排"><span>四、规模化：网络与容器编排</span></a></h2><p>手动运行多个容器复杂且低效，Docker Compose 是解决多服务部署的最佳工具。</p><h3 id="_1-容器网络通信" tabindex="-1"><a class="header-anchor" href="#_1-容器网络通信"><span>1. 容器网络通信</span></a></h3><ul><li><strong>问题</strong>：容器 IP 不稳定，无法直接用 IP 通信。</li><li><strong>解决方案</strong>：创建<strong>自定义 Bridge 网络</strong>。连接到同一网络的容器可以利用彼此的 <strong>容器名称</strong> 进行 <strong>服务发现</strong>。</li><li><strong>命令流程</strong>： <ol><li>创建网络：<code>docker network create app-net</code></li><li>连接容器：<code>docker run --network app-net --name web-container ...</code></li></ol></li></ul><h3 id="_2-docker-compose-多容器编排" tabindex="-1"><a class="header-anchor" href="#_2-docker-compose-多容器编排"><span>2. Docker Compose (多容器编排)</span></a></h3><ul><li><strong>核心</strong>：使用 <strong><code>docker-compose.yml</code></strong> 文件（YAML格式）来定义应用的所有服务、网络和 Volumes。</li><li><strong>关键配置项</strong>：<code>image</code>、<code>ports</code>、<code>networks</code>、<code>volumes</code>。</li></ul><table><thead><tr><th style="text-align:left;">YAML 配置项</th><th style="text-align:left;">对应 <code>docker run</code> 参数</th></tr></thead><tbody><tr><td style="text-align:left;"><code>image: nginx</code></td><td style="text-align:left;">镜像名称</td></tr><tr><td style="text-align:left;"><code>ports: [&#39;8080:80&#39;]</code></td><td style="text-align:left;"><code>-p 8080:80</code></td></tr><tr><td style="text-align:left;"><code>networks: [app-net]</code></td><td style="text-align:left;"><code>--network app-net</code></td></tr></tbody></table><p><strong>启动/停止命令：</strong></p><ul><li>启动所有服务：<code>docker compose up -d</code></li><li>停止并删除所有服务和网络：<code>docker compose down</code></li></ul><hr><h2 id="五、高级实践-安全与存储" tabindex="-1"><a class="header-anchor" href="#五、高级实践-安全与存储"><span>五、高级实践：安全与存储</span></a></h2><h3 id="_1-安全与隔离" tabindex="-1"><a class="header-anchor" href="#_1-安全与隔离"><span>1. 安全与隔离</span></a></h3><p>Docker 的安全隔离主要依赖 Linux 内核的两个机制：</p><table><thead><tr><th style="text-align:left;">机制</th><th style="text-align:left;">作用</th><th style="text-align:left;">安全意义</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Namespaces</strong></td><td style="text-align:left;">隔离<strong>可见性</strong>（进程、网络、用户 ID）。</td><td style="text-align:left;">容器内的 <strong>root 权限</strong> 被映射为宿主机上的<strong>非特权用户</strong>，防止权限提升。</td></tr><tr><td style="text-align:left;"><strong>Cgroups</strong></td><td style="text-align:left;">隔离<strong>资源使用</strong>（CPU、内存、I/O）。</td><td style="text-align:left;">防止单个失控容器耗尽所有资源，导致整个系统<strong>拒绝服务 (DoS)</strong>。</td></tr></tbody></table><h3 id="_2-高级存储类型" tabindex="-1"><a class="header-anchor" href="#_2-高级存储类型"><span>2. 高级存储类型</span></a></h3><p>除了常用的 Volume，了解其他存储类型能优化你的开发和运维流程：</p><table><thead><tr><th style="text-align:left;">存储类型</th><th style="text-align:left;">数据位置</th><th style="text-align:left;">最佳用途</th><th style="text-align:left;">数据持久性</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Volume</strong></td><td style="text-align:left;">宿主机硬盘（Docker管理）</td><td style="text-align:left;">生产环境<strong>数据持久化</strong>（数据库文件）。</td><td style="text-align:left;"><strong>持久</strong></td></tr><tr><td style="text-align:left;"><strong>Bind Mount</strong></td><td style="text-align:left;">宿主机上的<strong>任意目录</strong>。</td><td style="text-align:left;"><strong>本地开发</strong>（实时同步代码）。</td><td style="text-align:left;"><strong>持久</strong></td></tr><tr><td style="text-align:left;"><strong>tmpfs Mount</strong></td><td style="text-align:left;">宿主机的 <strong>RAM/内存</strong>。</td><td style="text-align:left;">存储临时的高速缓存或<strong>敏感数据</strong>（避免写入磁盘）。</td><td style="text-align:left;"><strong>易失</strong>（重启即丢失）</td></tr></tbody></table></div></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->最后更新时间 10/6/2025, 8:19:08 AM<!--]--></span></span></div></footer><!----><div class="reco-giscus-wrapper"><!----></div></div><div class="page-catalog-container"><h5 class="tip">目录</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#一、docker-的基础-镜像与容器" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="一、Docker 的基础：镜像与容器"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->一、Docker 的基础：镜像与容器<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#_1-镜像-image-vs-容器-container" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. 镜像（Image） vs. 容器（Container）"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. 镜像（Image） vs. 容器（Container）<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#_2-镜像分层与数据持久化" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. 镜像分层与数据持久化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. 镜像分层与数据持久化<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#二、命令行操作-docker-的三板斧" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="二、命令行操作：Docker 的三板斧"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->二、命令行操作：Docker 的三板斧<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#三、定制化-制作你的应用镜像-dockerfile" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="三、定制化：制作你的应用镜像 (Dockerfile)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->三、定制化：制作你的应用镜像 (Dockerfile)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#四、规模化-网络与容器编排" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="四、规模化：网络与容器编排"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->四、规模化：网络与容器编排<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#_1-容器网络通信" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. 容器网络通信"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. 容器网络通信<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#_2-docker-compose-多容器编排" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. Docker Compose (多容器编排)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. Docker Compose (多容器编排)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#五、高级实践-安全与存储" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="五、高级实践：安全与存储"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->五、高级实践：安全与存储<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#_1-安全与隔离" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. 安全与隔离"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. 安全与隔离<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/houduan/Dockerquanzhanzhinan.html#_2-高级存储类型" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. 高级存储类型"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. 高级存储类型<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-_qvWuZqY.js" defer></script>
  </body>
</html>
