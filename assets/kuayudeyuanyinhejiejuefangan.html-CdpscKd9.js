import{_ as e,c as o,b as n,a as p,d as a,e as l,r as c,o as i}from"./app-_qvWuZqY.js";const r={},u={style:{"text-align":"left"}},d={href:"https://www.example.com",target:"_blank",rel:"noopener noreferrer"};function g(k,s){const t=c("ExternalLinkIcon");return i(),o("div",null,[s[9]||(s[9]=n("h2",{id:"ä»€ä¹ˆæ˜¯è·¨åŸŸ-ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè·¨åŸŸ",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ä»€ä¹ˆæ˜¯è·¨åŸŸ-ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè·¨åŸŸ"},[n("span",null,"ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè·¨åŸŸï¼Ÿ")])],-1)),s[10]||(s[10]=n("p",null,[n("strong",null,"è·¨åŸŸ"),a("ï¼ˆCross-Originï¼‰æŒ‡çš„æ˜¯å½“ä¸€ä¸ª"),n("strong",null,"æº"),a("ï¼ˆOriginï¼‰çš„æ–‡æ¡£æˆ–è„šæœ¬è¯•å›¾å»åŠ è½½æˆ–æ“ä½œå¦ä¸€ä¸ª"),n("strong",null,"æº"),a("çš„èµ„æºæ—¶å‘ç”Ÿçš„æƒ…å†µã€‚è¿™é‡Œçš„â€œæºâ€æ˜¯ç”±**åè®®ï¼ˆProtocolï¼‰ã€åŸŸåï¼ˆDomainï¼‰å’Œç«¯å£ï¼ˆPortï¼‰**ä¸‰è€…å…±åŒå†³å®šçš„ã€‚åªè¦è¿™ä¸‰è€…ä¸­æœ‰ä¸€ä¸ªä¸åŒï¼Œå°±å±äºä¸åŒçš„æºã€‚")],-1)),s[11]||(s[11]=n("p",null,"ä¾‹å¦‚ï¼š",-1)),n("table",null,[s[8]||(s[8]=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"URL"),n("th",{style:{"text-align":"left"}},"åè®®"),n("th",{style:{"text-align":"left"}},"åŸŸå"),n("th",{style:{"text-align":"left"}},"ç«¯å£"),n("th",{style:{"text-align":"left"}},[a("æ˜¯å¦åŒæºäº "),n("code",null,"http://example.com:8080/index.html")])])],-1)),n("tbody",null,[s[5]||(s[5]=n("tr",null,[n("td",{style:{"text-align":"left"}},[n("code",null,"http://example.com:8080/other.html")]),n("td",{style:{"text-align":"left"}},"http"),n("td",{style:{"text-align":"left"}},"example.com"),n("td",{style:{"text-align":"left"}},"8080"),n("td",{style:{"text-align":"left"}},"æ˜¯")],-1)),s[6]||(s[6]=n("tr",null,[n("td",{style:{"text-align":"left"}},[n("code",null,"https://example.com:8080/index.html")]),n("td",{style:{"text-align":"left"}},"https"),n("td",{style:{"text-align":"left"}},"example.com"),n("td",{style:{"text-align":"left"}},"8080"),n("td",{style:{"text-align":"left"}},"å¦ (åè®®ä¸åŒ)")],-1)),n("tr",null,[s[1]||(s[1]=n("td",{style:{"text-align":"left"}},[n("code",null,"http://www.example.com:8080/index.html")],-1)),s[2]||(s[2]=n("td",{style:{"text-align":"left"}},"http",-1)),n("td",u,[n("a",d,[s[0]||(s[0]=a("www.example.com",-1)),l(t)])]),s[3]||(s[3]=n("td",{style:{"text-align":"left"}},"8080",-1)),s[4]||(s[4]=n("td",{style:{"text-align":"left"}},"å¦ (åŸŸåä¸åŒ)",-1))]),s[7]||(s[7]=n("tr",null,[n("td",{style:{"text-align":"left"}},[n("code",null,"http://example.com:80/index.html")]),n("td",{style:{"text-align":"left"}},"http"),n("td",{style:{"text-align":"left"}},"example.com"),n("td",{style:{"text-align":"left"}},"80"),n("td",{style:{"text-align":"left"}},"å¦ (ç«¯å£ä¸åŒ)")],-1))])]),s[12]||(s[12]=p(`<p><strong>äº§ç”Ÿè·¨åŸŸçš„æ ¹æœ¬åŸå› æ˜¯æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼ˆSame-Origin Policy, SOPï¼‰ã€‚</strong> è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„å®‰å…¨ç­–ç•¥ï¼Œæ—¨åœ¨ä¿æŠ¤ç”¨æˆ·çš„æµè§ˆå™¨å…å—æ¶æ„ç½‘ç«™çš„æ”»å‡»ã€‚</p><p><strong>åŒæºç­–ç•¥çš„ä¸»è¦é™åˆ¶åŒ…æ‹¬ï¼š</strong></p><ol><li><strong>Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–ã€‚</strong> ä¸åŒæºçš„é¡µé¢æ— æ³•ç›´æ¥è®¿é—®å¯¹æ–¹å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­çš„æ•°æ®ã€‚</li><li><strong>DOM æ— æ³•è·å¾—ã€‚</strong> ä¸åŒæºçš„é¡µé¢æ— æ³•ç›´æ¥æ“ä½œå¯¹æ–¹çš„ DOM ç»“æ„ã€‚</li><li><strong>AJAX è¯·æ±‚ä¸èƒ½å‘é€ã€‚</strong> è¿™æ˜¯æœ€å¸¸è§çš„è·¨åŸŸé—®é¢˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>XMLHttpRequest</code> æˆ– Fetch API å‘èµ·çš„ HTTP è¯·æ±‚åªèƒ½è®¿é—®åŒæºçš„èµ„æºã€‚å¦‚æœè¯·æ±‚çš„ç›®æ ‡æ˜¯ä¸åŒæºçš„ï¼Œæµè§ˆå™¨ä¼šé˜»æ­¢è¯¥è¯·æ±‚çš„å“åº”è¢«å½“å‰é¡µé¢è·å–ï¼Œå°½ç®¡è¯·æ±‚å¯èƒ½å·²ç»åˆ°è¾¾æœåŠ¡å™¨ã€‚</li></ol><p><strong>ä¸ºä»€ä¹ˆéœ€è¦åŒæºç­–ç•¥ï¼Ÿ</strong></p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€äº†ä¸€ä¸ªé“¶è¡Œç½‘ç«™ï¼Œç„¶ååˆæ‰“å¼€äº†ä¸€ä¸ªæ¶æ„ç½‘ç«™ã€‚å¦‚æœæ²¡æœ‰åŒæºç­–ç•¥ï¼Œæ¶æ„ç½‘ç«™çš„è„šæœ¬å°±å¯ä»¥è½»æ˜“åœ°è¯»å–ä½ åœ¨é“¶è¡Œç½‘ç«™ä¸Šçš„ Cookieï¼Œç”šè‡³æ¨¡æ‹Ÿä½ çš„æ“ä½œï¼Œä»è€Œçªƒå–ä½ çš„æ•æ„Ÿä¿¡æ¯æˆ–è¿›è¡Œæœªæˆæƒçš„äº¤æ˜“ã€‚åŒæºç­–ç•¥å°±åƒä¸€é“é˜²ç«å¢™ï¼Œéš”ç¦»äº†ä¸åŒæºä¹‹é—´çš„ç›´æ¥äº¤äº’ï¼Œå¤§å¤§å¢å¼ºäº†æµè§ˆå™¨çš„å®‰å…¨æ€§ã€‚</p><hr><h2 id="å¸¸è§çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆåŠåŸç†" tabindex="-1"><a class="header-anchor" href="#å¸¸è§çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆåŠåŸç†"><span>å¸¸è§çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆåŠåŸç†</span></a></h2><p>è™½ç„¶åŒæºç­–ç•¥æ˜¯å¿…è¦çš„ï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨ä¸åŒæºä¹‹é—´è¿›è¡Œåˆç†çš„èµ„æºå…±äº«ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆåŠå…¶åŸç†ï¼š</p><h3 id="_1-cors-cross-origin-resource-sharing-è·¨åŸŸèµ„æºå…±äº«-ğŸ›¡ï¸" tabindex="-1"><a class="header-anchor" href="#_1-cors-cross-origin-resource-sharing-è·¨åŸŸèµ„æºå…±äº«-ğŸ›¡ï¸"><span>1. CORS (Cross-Origin Resource Sharing) è·¨åŸŸèµ„æºå…±äº« ğŸ›¡ï¸</span></a></h3><p><strong>åŸç†ï¼š</strong> CORS æ˜¯ä¸€ç§ W3C æ ‡å‡†ï¼Œå®ƒå…è®¸æœåŠ¡å™¨åœ¨å“åº”å¤´ä¸­æ·»åŠ ä¸€äº›ç‰¹æ®Šçš„ HTTP å¤´éƒ¨å­—æ®µï¼Œä»è€Œå‘Šè¯‰æµè§ˆå™¨ï¼Œå…è®¸æ¥è‡ªæŒ‡å®šæºçš„è·¨åŸŸè¯·æ±‚ã€‚æµè§ˆå™¨åœ¨æ”¶åˆ°å“åº”åï¼Œä¼šæ£€æŸ¥è¿™äº›å¤´éƒ¨å­—æ®µï¼Œå¦‚æœç¬¦åˆæ¡ä»¶ï¼Œå°±å…è®¸ JavaScript è·å–å“åº”å†…å®¹ã€‚</p><p><strong>æ ¸å¿ƒ HTTP å¤´éƒ¨å­—æ®µï¼š</strong></p><ul><li><strong><code>Access-Control-Allow-Origin</code></strong>: è¿™æ˜¯æœ€é‡è¦çš„å¤´éƒ¨ã€‚å®ƒæŒ‡å®šäº†å“ªäº›æºå¯ä»¥è®¿é—®è¯¥èµ„æºã€‚ä¾‹å¦‚ï¼š <ul><li><code>Access-Control-Allow-Origin: *</code> (å…è®¸ä»»ä½•æºè®¿é—®ï¼Œä½†é€šå¸¸ä¸æ¨èç”¨äºéœ€è¦å‡­è¯çš„è¯·æ±‚)</li><li><code>Access-Control-Allow-Origin: http://example.com</code> (åªå…è®¸æ¥è‡ª <code>http://example.com</code> çš„è¯·æ±‚)</li></ul></li><li><strong><code>Access-Control-Allow-Methods</code></strong>: æŒ‡å®šäº†å…è®¸çš„ HTTP è¯·æ±‚æ–¹æ³•ï¼Œä¾‹å¦‚ <code>GET, POST, PUT, DELETE</code>ã€‚</li><li><strong><code>Access-Control-Allow-Headers</code></strong>: æŒ‡å®šäº†å…è®¸çš„è‡ªå®šä¹‰è¯·æ±‚å¤´éƒ¨ã€‚</li><li><strong><code>Access-Control-Allow-Credentials</code></strong>: ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€ Cookieã€‚å¦‚æœè®¾ç½®ä¸º <code>true</code>ï¼Œé‚£ä¹ˆ <code>Access-Control-Allow-Origin</code> å°±ä¸èƒ½æ˜¯ <code>*</code>ï¼Œå¿…é¡»æŒ‡å®šæ˜ç¡®çš„æºã€‚</li><li><strong><code>Access-Control-Max-Age</code></strong>: æŒ‡å®šäº†é¢„æ£€è¯·æ±‚ï¼ˆPreflight Requestï¼‰ç»“æœçš„æœ‰æ•ˆæœŸï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚</li></ul><p><strong>è¯·æ±‚ç±»å‹ï¼š</strong></p><p>CORS è¯·æ±‚åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li><p><strong>ç®€å•è¯·æ±‚ (Simple Requests):</strong> åŒæ—¶æ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶çš„è¯·æ±‚ï¼š</p><ul><li>è¯·æ±‚æ–¹æ³•æ˜¯ <code>GET</code>, <code>HEAD</code>, <code>POST</code> ä¹‹ä¸€ã€‚</li><li>HTTP å¤´éƒ¨ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š<code>Accept</code>, <code>Accept-Language</code>, <code>Content-Language</code>, <code>Last-Event-ID</code>, <code>Content-Type</code> (åªé™äº <code>application/x-www-form-urlencoded</code>, <code>multipart/form-data</code>, <code>text/plain</code> ä¸‰ç§)ã€‚</li><li>è¯·æ±‚ä¸­æ²¡æœ‰è‡ªå®šä¹‰çš„ HTTP å¤´éƒ¨ã€‚ å¯¹äºç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šç›´æ¥å‘é€è¯·æ±‚ï¼Œå¹¶åœ¨å“åº”å¤´ä¸­æŸ¥æ‰¾ <code>Access-Control-Allow-Origin</code> ç­‰å­—æ®µã€‚</li></ul></li><li><p><strong>éç®€å•è¯·æ±‚ (Preflighted Requests):</strong> ä¸æ»¡è¶³ç®€å•è¯·æ±‚æ¡ä»¶çš„è¯·æ±‚ï¼Œä¾‹å¦‚ <code>PUT</code>, <code>DELETE</code> æ–¹æ³•ï¼Œæˆ–è€… <code>Content-Type</code> ä¸º <code>application/json</code> çš„è¯·æ±‚ï¼Œæˆ–è€…åŒ…å«è‡ªå®šä¹‰å¤´éƒ¨çš„è¯·æ±‚ã€‚ å¯¹äºéç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ä¸€ä¸ª <strong>é¢„æ£€è¯·æ±‚ (Preflight Request)</strong>ã€‚è¿™æ˜¯ä¸€ä¸ª <code>OPTIONS</code> æ–¹æ³•çš„è¯·æ±‚ï¼Œç”¨äºè¯¢é—®æœåŠ¡å™¨å½“å‰ç½‘é¡µæ‰€åœ¨çš„åŸŸåæ˜¯å¦åœ¨æœåŠ¡å™¨çš„è®¸å¯åå•ä¹‹ä¸­ï¼Œä»¥åŠå¯ä»¥ä½¿ç”¨å“ªäº› HTTP æ–¹æ³•å’Œå¤´éƒ¨å­—æ®µã€‚</p><ul><li>å¦‚æœé¢„æ£€è¯·æ±‚æˆåŠŸï¼ˆæœåŠ¡å™¨è¿”å›äº†å…è®¸çš„ CORS å¤´éƒ¨ï¼‰ï¼Œæµè§ˆå™¨æ‰ä¼šå‘é€å®é™…çš„è¯·æ±‚ã€‚</li><li>å¦‚æœé¢„æ£€è¯·æ±‚å¤±è´¥ï¼Œæµè§ˆå™¨ä¼šæŠ¥é”™ï¼Œå®é™…è¯·æ±‚ä¸ä¼šå‘é€ã€‚</li></ul></li></ul><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>W3C æ ‡å‡†ï¼Œä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒã€‚</li><li>åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå„ç§ HTTP æ–¹æ³•å’Œè‡ªå®šä¹‰å¤´éƒ¨ã€‚</li><li>ç›¸å¯¹å®‰å…¨ï¼Œç”±æœåŠ¡å™¨æ§åˆ¶æƒé™ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>éœ€è¦æœåŠ¡å™¨ç«¯è¿›è¡Œé…ç½®ã€‚</li><li>å¯¹äºéç®€å•è¯·æ±‚ï¼Œä¼šå¤šä¸€æ¬¡é¢„æ£€è¯·æ±‚ï¼Œå¢åŠ äº†ä¸€äº›å¼€é”€ï¼ˆä½†å¯ä»¥é€šè¿‡ <code>Access-Control-Max-Age</code> ç¼“å­˜ï¼‰ã€‚</li></ul><h3 id="_2-jsonp-json-with-padding-ğŸ“œ" tabindex="-1"><a class="header-anchor" href="#_2-jsonp-json-with-padding-ğŸ“œ"><span>2. JSONP (JSON with Padding) ğŸ“œ</span></a></h3><p><strong>åŸç†ï¼š</strong> JSONP åˆ©ç”¨äº† HTML ä¸­ <code>&lt;script&gt;</code> æ ‡ç­¾çš„ <code>src</code> å±æ€§ä¸å—åŒæºç­–ç•¥é™åˆ¶çš„ç‰¹ç‚¹ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>å®¢æˆ·ç«¯ï¼š</strong><ul><li>åŠ¨æ€åˆ›å»ºä¸€ä¸ª <code>&lt;script&gt;</code> æ ‡ç­¾ã€‚</li><li>å°†å…¶ <code>src</code> å±æ€§æŒ‡å‘ç›®æ ‡æœåŠ¡å™¨çš„ URLï¼Œå¹¶åœ¨ URL å‚æ•°ä¸­æŒ‡å®šä¸€ä¸ªå›è°ƒå‡½æ•°åï¼ˆä¾‹å¦‚ <code>callback=handleResponse</code>ï¼‰ã€‚</li><li>å°†è¿™ä¸ª <code>&lt;script&gt;</code> æ ‡ç­¾æ’å…¥åˆ° DOM ä¸­ã€‚</li></ul></li><li><strong>æœåŠ¡å™¨ç«¯ï¼š</strong><ul><li>æ¥æ”¶åˆ°è¯·æ±‚åï¼Œè·å–å›è°ƒå‡½æ•°åã€‚</li><li>å°†è¦è¿”å›çš„ JSON æ•°æ®åŒ…è£¹åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œå½¢æˆä¸€ä¸ª JavaScript å‡½æ•°è°ƒç”¨çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ <code>handleResponse({&quot;data&quot;: &quot;some data&quot;})</code>ã€‚</li><li>å°†è¿™ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå“åº”ä½“è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œ<code>Content-Type</code>é€šå¸¸æ˜¯ <code>application/javascript</code>ã€‚</li></ul></li><li><strong>å®¢æˆ·ç«¯ï¼š</strong><ul><li>å½“ <code>&lt;script&gt;</code> æ ‡ç­¾åŠ è½½å¹¶æ‰§è¡ŒæœåŠ¡å™¨è¿”å›çš„è„šæœ¬æ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨è°ƒç”¨é¢„å…ˆå®šä¹‰å¥½çš„å›è°ƒå‡½æ•° <code>handleResponse</code>ï¼Œå¹¶å°† JSON æ•°æ®ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</li></ul></li></ol><p><strong>ç¤ºä¾‹ï¼š</strong></p><p>å®¢æˆ·ç«¯ä»£ç ï¼š</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">  <span class="token keyword">function</span> <span class="token function">handleResponse</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Received data:&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://api.otherserver.com/data?callback=handleResponse<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœåŠ¡å™¨ç«¯ (Node.js ç¤ºä¾‹):</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// http://api.otherserver.com/data</span></span>
<span class="line"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> query <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span>query<span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> callbackName <span class="token operator">=</span> query<span class="token punctuation">.</span>callback<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>callbackName<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> jsonData <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;Hello from another server!&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> responseString <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>callbackName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>jsonData<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line">    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/javascript&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>responseString<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;Callback function name required.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8001</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒè€æ—§æµè§ˆå™¨ã€‚</li><li>ç®€å•æ˜“ç”¨ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li><strong>åªæ”¯æŒ <code>GET</code> è¯·æ±‚ã€‚</strong> å› ä¸º <code>&lt;script&gt;</code> æ ‡ç­¾çš„ <code>src</code> åªèƒ½å‘èµ· <code>GET</code> è¯·æ±‚ã€‚</li><li><strong>å®‰å…¨æ€§é—®é¢˜ï¼š</strong> å¦‚æœè¯·æ±‚çš„æœåŠ¡å™¨ä¸å¯ä¿¡ï¼Œå®ƒè¿”å›çš„è„šæœ¬å¯èƒ½åŒ…å«æ¶æ„ä»£ç ï¼Œåœ¨å®¢æˆ·ç«¯æ‰§è¡Œã€‚</li><li><strong>éš¾ä»¥è¿›è¡Œé”™è¯¯å¤„ç†ï¼š</strong> <code>&lt;script&gt;</code> æ ‡ç­¾çš„åŠ è½½å¤±è´¥ä¸å®¹æ˜“æ•è·å’Œå¤„ç†ï¼ˆä¾‹å¦‚ç½‘ç»œé”™è¯¯æˆ–æœåŠ¡å™¨é”™è¯¯ï¼‰ã€‚</li><li><strong>éœ€è¦æœåŠ¡å™¨ç«¯é…åˆæ”¹é€ æ¥å£ã€‚</strong></li></ul><h3 id="_3-ä»£ç†æœåŠ¡å™¨-proxy-server-posrednik" tabindex="-1"><a class="header-anchor" href="#_3-ä»£ç†æœåŠ¡å™¨-proxy-server-posrednik"><span>3. ä»£ç†æœåŠ¡å™¨ (Proxy Server) poÅ›rednik</span></a></h3><p><strong>åŸç†ï¼š</strong> åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡æœåŠ¡å™¨ä¹‹é—´æ¶è®¾ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ã€‚å®¢æˆ·ç«¯å‘ä»£ç†æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆæ­¤æ—¶æ˜¯åŒæºè¯·æ±‚ï¼‰ï¼Œä»£ç†æœåŠ¡å™¨å†å°†è¯·æ±‚è½¬å‘ç»™ç›®æ ‡æœåŠ¡å™¨ã€‚ç›®æ ‡æœåŠ¡å™¨å°†å“åº”è¿”å›ç»™ä»£ç†æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨å†å°†å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><p>ç”±äºå®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨ä¹‹é—´æ˜¯åŒæºçš„ï¼Œæˆ–è€…ä»£ç†æœåŠ¡å™¨å¯ä»¥é…ç½® CORS å…è®¸å®¢æˆ·ç«¯è®¿é—®ï¼Œä»è€Œç»•è¿‡äº†æµè§ˆå™¨çš„åŒæºç­–ç•¥é™åˆ¶ã€‚</p><p><strong>æµç¨‹ï¼š</strong></p><ol><li><strong>å®¢æˆ·ç«¯</strong> (<code>http://client.com</code>) å‘é€è¯·æ±‚åˆ° <strong>ä»£ç†æœåŠ¡å™¨</strong> (<code>http://client.com/proxy</code> æˆ– <code>http://proxy.client.com</code>)ã€‚</li><li><strong>ä»£ç†æœåŠ¡å™¨</strong> æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå°†è¯·æ±‚è½¬å‘åˆ° <strong>ç›®æ ‡æœåŠ¡å™¨</strong> (<code>http://api.otherserver.com</code>)ã€‚</li><li><strong>ç›®æ ‡æœåŠ¡å™¨</strong> å¤„ç†è¯·æ±‚å¹¶å°†å“åº”è¿”å›ç»™ <strong>ä»£ç†æœåŠ¡å™¨</strong>ã€‚</li><li><strong>ä»£ç†æœåŠ¡å™¨</strong> å°†å“åº”å†è¿”å›ç»™ <strong>å®¢æˆ·ç«¯</strong>ã€‚</li></ol><p><strong>å®ç°æ–¹å¼ï¼š</strong></p><ul><li><strong>Nginx åå‘ä»£ç†ï¼š</strong> é…ç½® Nginx å°†ç‰¹å®šè·¯å¾„çš„è¯·æ±‚è½¬å‘åˆ°ç›®æ ‡æœåŠ¡å™¨ã€‚</li><li><strong>Node.js ä¸­é—´ä»¶ï¼š</strong> ä¾‹å¦‚ä½¿ç”¨ <code>http-proxy-middleware</code> ç­‰åº“ã€‚</li><li><strong>åç«¯è¯­è¨€å®ç°ï¼š</strong> ä¾‹å¦‚ Java, Python, PHP ç­‰éƒ½å¯ä»¥ç¼–å†™ä»£ç†é€»è¾‘ã€‚</li></ul><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å¯ä»¥è§£å†³å„ç§è·¨åŸŸé—®é¢˜ï¼Œä¸é™äº <code>GET</code> è¯·æ±‚ã€‚</li><li>ä¸éœ€è¦ä¿®æ”¹ç›®æ ‡æœåŠ¡å™¨çš„ä»£ç ã€‚</li><li>å¯ä»¥åœ¨ä»£ç†å±‚è¿›è¡Œä¸€äº›é¢å¤–çš„å¤„ç†ï¼Œå¦‚ç¼“å­˜ã€æƒé™æ§åˆ¶ç­‰ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>éœ€è¦é¢å¤–éƒ¨ç½²å’Œç»´æŠ¤ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ã€‚</li><li>å¢åŠ äº†è¯·æ±‚çš„é“¾è·¯ï¼Œå¯èƒ½ä¼šæœ‰è½»å¾®çš„æ€§èƒ½å½±å“ã€‚</li></ul><h3 id="_4-document-domain-é’ˆå¯¹ä¸»åŸŸåç›¸åŒ-å­åŸŸåä¸åŒçš„æƒ…å†µ-ğŸ¡" tabindex="-1"><a class="header-anchor" href="#_4-document-domain-é’ˆå¯¹ä¸»åŸŸåç›¸åŒ-å­åŸŸåä¸åŒçš„æƒ…å†µ-ğŸ¡"><span>4. <code>document.domain</code> (é’ˆå¯¹ä¸»åŸŸåç›¸åŒï¼Œå­åŸŸåä¸åŒçš„æƒ…å†µ) ğŸ¡</span></a></h3><p><strong>åŸç†ï¼š</strong> å¦‚æœä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„ä¸»åŸŸåï¼Œä½†å­åŸŸåä¸åŒï¼ˆä¾‹å¦‚ <code>a.example.com</code> å’Œ <code>b.example.com</code>ï¼‰ï¼Œå¯ä»¥é€šè¿‡å°†ä¸¤ä¸ªé¡µé¢çš„ <code>document.domain</code> éƒ½è®¾ç½®ä¸ºå®ƒä»¬å…±åŒçš„ä¸»åŸŸåï¼ˆä¾‹å¦‚ <code>example.com</code>ï¼‰ï¼Œæ¥å®ç°å®ƒä»¬ä¹‹é—´çš„åŒæºã€‚</p><p><strong>é™åˆ¶ï¼š</strong></p><ul><li><strong>ä»…é€‚ç”¨äºä¸»åŸŸåç›¸åŒçš„æƒ…å†µã€‚</strong></li><li><strong>åªèƒ½å°† <code>document.domain</code> è®¾ç½®ä¸ºå½“å‰åŸŸåæˆ–å…¶çˆ¶çº§åŸŸåï¼Œä¸èƒ½è®¾ç½®ä¸ºä»»æ„å€¼ã€‚</strong></li><li><strong>åè®®å’Œç«¯å£ä¹Ÿå¿…é¡»ä¸€è‡´ã€‚</strong></li></ul><p><strong>ç¤ºä¾‹ï¼š</strong></p><p>é¡µé¢ A (<code>http://a.example.com/pageA.html</code>):</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">  document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&#39;example.com&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// ç°åœ¨å¯ä»¥è®¿é—® iframe B çš„å†…å®¹äº†</span></span>
<span class="line">  <span class="token keyword">const</span> iframeB <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;iframeB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  iframeB<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iframeB<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>someVariable<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iframeB<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://b.example.com/pageB.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¡µé¢ B (<code>http://b.example.com/pageB.html</code>):</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">  document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&#39;example.com&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  window<span class="token punctuation">.</span>someVariable <span class="token operator">=</span> <span class="token string">&#39;Hello from Page B!&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>ç®€å•æ˜“ç”¨ï¼Œé€‚ç”¨äºç‰¹å®šçš„å­åŸŸåè·¨åŸŸåœºæ™¯ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>é™åˆ¶è¾ƒå¤šï¼Œä¸é€‚ç”¨äºæ‰€æœ‰è·¨åŸŸåœºæ™¯ã€‚</li><li>å®‰å…¨æ€§æ–¹é¢ï¼Œå¦‚æœä¸€ä¸ªå­åŸŸåè¢«æ”»ç ´ï¼Œå¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–è®¾ç½®äº†ç›¸åŒ <code>document.domain</code> çš„å­åŸŸåã€‚</li></ul><h3 id="_5-window-postmessage-ç”¨äºçª—å£é—´é€šä¿¡-âœ‰ï¸" tabindex="-1"><a class="header-anchor" href="#_5-window-postmessage-ç”¨äºçª—å£é—´é€šä¿¡-âœ‰ï¸"><span>5. <code>window.postMessage</code> (ç”¨äºçª—å£é—´é€šä¿¡) âœ‰ï¸</span></a></h3><p><strong>åŸç†ï¼š</strong> <code>window.postMessage()</code> æ–¹æ³•å…è®¸æ¥è‡ªä¸åŒæºçš„çª—å£ï¼ˆä¾‹å¦‚ä¸»é¡µé¢å’Œ <code>iframe</code>ï¼Œæˆ–è€…é€šè¿‡ <code>window.open</code> æ‰“å¼€çš„æ–°çª—å£ï¼‰ä¹‹é—´å®‰å…¨åœ°ä¼ é€’æ¶ˆæ¯ã€‚</p><p><strong>å‘é€æ¶ˆæ¯ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// otherWindow æ˜¯ç›®æ ‡çª—å£çš„å¼•ç”¨ (ä¾‹å¦‚ iframe.contentWindow)</span></span>
<span class="line"><span class="token comment">// message æ˜¯è¦å‘é€çš„æ•°æ® (å¯ä»¥æ˜¯ä»»ä½•å¯ä»¥è¢«ç»“æ„åŒ–å…‹éš†ç®—æ³•å¤„ç†çš„æ•°æ®)</span></span>
<span class="line"><span class="token comment">// targetOrigin æ˜¯ç›®æ ‡çª—å£çš„æºï¼Œç”¨äºå®‰å…¨æ ¡éªŒï¼Œå¯ä»¥æ˜¯ &#39;*&#39; (ä¸æ¨è) æˆ–å…·ä½“çš„æº</span></span>
<span class="line">otherWindow<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> targetOrigin<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¥æ”¶æ¶ˆæ¯ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// å®‰å…¨æ ¡éªŒï¼šæ£€æŸ¥æ¶ˆæ¯æ¥æºæ˜¯å¦å¯ä¿¡</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin <span class="token operator">!==</span> <span class="token string">&#39;http://expected-sender.com&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// å¤„ç†æ¥æ”¶åˆ°çš„æ•°æ®</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Received message:&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// å¯ä»¥é€‰æ‹©æ€§åœ°å‘æ¥æºçª—å£å›å¤æ¶ˆæ¯</span></span>
<span class="line">  event<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;Message received!&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å®‰å…¨ï¼Œå¯ä»¥æŒ‡å®šæ¶ˆæ¯æ¥æ”¶æ–¹çš„æºã€‚</li><li>åŠŸèƒ½å¼ºå¤§ï¼Œå¯ä»¥ä¼ é€’å¤æ‚çš„æ•°æ®ç»“æ„ã€‚</li><li>é€‚ç”¨äºçª—å£ä¹‹é—´ï¼ˆåŒ…æ‹¬ <code>iframe</code>ï¼‰çš„è·¨åŸŸé€šä¿¡ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>ä¸»è¦ç”¨äºçª—å£é—´çš„æ¶ˆæ¯ä¼ é€’ï¼Œä¸ç›´æ¥è§£å†³ AJAX è¯·æ±‚çš„è·¨åŸŸé—®é¢˜ï¼ˆä½†å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œä¾‹å¦‚ <code>iframe</code> å†…å‘èµ· AJAXï¼Œç„¶åé€šè¿‡ <code>postMessage</code> å°†ç»“æœä¼ å›ä¸»é¡µé¢ï¼‰ã€‚</li><li>éœ€è¦åŒæ–¹éƒ½å®ç°æ¶ˆæ¯çš„å‘é€å’Œæ¥æ”¶é€»è¾‘ã€‚</li></ul><hr><p><strong>æ€»ç»“ä¸€ä¸‹é€‰æ‹©å“ªç§æ–¹æ¡ˆï¼š</strong></p><ul><li><strong>é¦–é€‰ CORSï¼š</strong> è¿™æ˜¯æœ€æ ‡å‡†ã€æœ€é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå°¤å…¶æ˜¯å¯¹äº API æ¥å£çš„è·¨åŸŸã€‚</li><li><strong>JSONPï¼š</strong> ä»…åœ¨éœ€è¦å…¼å®¹éå¸¸å¤è€çš„æµè§ˆå™¨ä¸”åªæ¶‰åŠ <code>GET</code> è¯·æ±‚æ—¶è€ƒè™‘ï¼Œæ³¨æ„å®‰å…¨é£é™©ã€‚</li><li><strong>ä»£ç†æœåŠ¡å™¨ï¼š</strong> å½“æ— æ³•ä¿®æ”¹ç›®æ ‡æœåŠ¡å™¨ï¼Œæˆ–è€…éœ€è¦åœ¨ä¸­é—´å±‚åšæ›´å¤šæ§åˆ¶æ—¶æ˜¯ä¸ªå¥½é€‰æ‹©ã€‚</li><li><strong><code>document.domain</code>ï¼š</strong> ä»…é™äºä¸»åŸŸåç›¸åŒã€å­åŸŸåä¸åŒçš„ç‰¹å®šåœºæ™¯ã€‚</li><li><strong><code>window.postMessage</code>ï¼š</strong> ä¸»è¦ç”¨äºè§£å†³ä¸åŒçª—å£æˆ– <code>iframe</code> ä¹‹é—´çš„å®‰å…¨é€šä¿¡é—®é¢˜ã€‚</li></ul>`,69))])}const v=e(r,[["render",g]]),h=JSON.parse('{"path":"/blogs/liulanqi/kuayudeyuanyinhejiejuefangan.html","title":"èŠèŠè·¨åŸŸçš„åŸå› åŠå¸¸è§çš„è§£å†³æ–¹æ¡ˆ","lang":"en-US","frontmatter":{"title":"èŠèŠè·¨åŸŸçš„åŸå› åŠå¸¸è§çš„è§£å†³æ–¹æ¡ˆ","date":"2025/04/08","tags":["æµè§ˆå™¨"],"categories":["æµè§ˆå™¨"]},"headers":[{"level":2,"title":"ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè·¨åŸŸï¼Ÿ","slug":"ä»€ä¹ˆæ˜¯è·¨åŸŸ-ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè·¨åŸŸ","link":"#ä»€ä¹ˆæ˜¯è·¨åŸŸ-ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè·¨åŸŸ","children":[]},{"level":2,"title":"å¸¸è§çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆåŠåŸç†","slug":"å¸¸è§çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆåŠåŸç†","link":"#å¸¸è§çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆåŠåŸç†","children":[{"level":3,"title":"1. CORS (Cross-Origin Resource Sharing) è·¨åŸŸèµ„æºå…±äº« ğŸ›¡ï¸","slug":"_1-cors-cross-origin-resource-sharing-è·¨åŸŸèµ„æºå…±äº«-ğŸ›¡ï¸","link":"#_1-cors-cross-origin-resource-sharing-è·¨åŸŸèµ„æºå…±äº«-ğŸ›¡ï¸","children":[]},{"level":3,"title":"2. JSONP (JSON with Padding) ğŸ“œ","slug":"_2-jsonp-json-with-padding-ğŸ“œ","link":"#_2-jsonp-json-with-padding-ğŸ“œ","children":[]},{"level":3,"title":"3. ä»£ç†æœåŠ¡å™¨ (Proxy Server)  poÅ›rednik","slug":"_3-ä»£ç†æœåŠ¡å™¨-proxy-server-posrednik","link":"#_3-ä»£ç†æœåŠ¡å™¨-proxy-server-posrednik","children":[]},{"level":3,"title":"4. document.domain (é’ˆå¯¹ä¸»åŸŸåç›¸åŒï¼Œå­åŸŸåä¸åŒçš„æƒ…å†µ) ğŸ¡","slug":"_4-document-domain-é’ˆå¯¹ä¸»åŸŸåç›¸åŒ-å­åŸŸåä¸åŒçš„æƒ…å†µ-ğŸ¡","link":"#_4-document-domain-é’ˆå¯¹ä¸»åŸŸåç›¸åŒ-å­åŸŸåä¸åŒçš„æƒ…å†µ-ğŸ¡","children":[]},{"level":3,"title":"5. window.postMessage (ç”¨äºçª—å£é—´é€šä¿¡) âœ‰ï¸","slug":"_5-window-postmessage-ç”¨äºçª—å£é—´é€šä¿¡-âœ‰ï¸","link":"#_5-window-postmessage-ç”¨äºçª—å£é—´é€šä¿¡-âœ‰ï¸","children":[]}]}],"git":{"createdTime":1748408580000,"updatedTime":1748408580000,"contributors":[{"name":"Ryan","email":"2996442165@qq.com","commits":1}]},"filePathRelative":"blogs/æµè§ˆå™¨/è·¨åŸŸçš„åŸå› å’Œè§£å†³æ–¹æ¡ˆ.md"}');export{v as comp,h as data};
